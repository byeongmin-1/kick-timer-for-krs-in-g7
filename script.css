let timers = [];

function addTimer() {
    const name = document.getElementById('timerName').value || 'Unnamed Timer';
    let years = parseInt(document.getElementById('years').value) || 0;
    let hours = parseInt(document.getElementById('hours').value) || 0;
    let minutes = parseInt(document.getElementById('minutes').value) || 0;
    let seconds = parseInt(document.getElementById('seconds').value) || 0;

    // Limit maximum of 10 years
    if (years > 10) years = 10;

    const totalSeconds = seconds + minutes * 60 + hours * 3600 + years * 365 * 24 * 3600;

    const timer = {
        name: name,
        remaining: totalSeconds
    };

    timers.push(timer);
    updateTimerList();
}

function updateTimerList() {
    const list = document.getElementById('timerList');
    list.innerHTML = '';

    timers.forEach((timer, index) => {
        const li = document.createElement('li');
        li.id = 'timer-' + index;
        li.textContent = `${timer.name}: ${formatTime(timer.remaining)}`;
        list.appendChild(li);
    });
}

function formatTime(seconds) {
    const y = Math.floor(seconds / (365*24*3600));
    seconds %= 365*24*3600;
    const h = Math.floor(seconds / 3600);
    seconds %= 3600;
    const m = Math.floor(seconds / 60);
    const s = seconds % 60;
    return `${y}y ${h}h ${m}m ${s}s`;
}

// Countdown logic
setInterval(() => {
    timers.forEach((timer, index) => {
        if (timer.remaining > 0) timer.remaining--;
        document.getElementById('timer-' + index).textContent = `${timer.name}: ${formatTime(timer.remaining)}`;
    });
}, 1000);
